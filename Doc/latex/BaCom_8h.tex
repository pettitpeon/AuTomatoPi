\hypertarget{BaCom_8h}{}\section{Ba\+Com.\+h File Reference}
\label{BaCom_8h}\index{Ba\+Com.\+h@{Ba\+Com.\+h}}


Communications A\+P\+I.  


{\ttfamily \#include $<$Ba\+R\+Pi.\+h$>$}\\*
{\ttfamily \#include \char`\"{}Ba\+Bool.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}Ba\+Core.\+h\char`\"{}}\\*
Include dependency graph for Ba\+Com.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=247pt]{BaCom_8h__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\hypertarget{BaCom_8h_a560d10625971945890a829c2cfd32769}{}\#define \hyperlink{BaCom_8h_a560d10625971945890a829c2cfd32769}{B\+A\+C\+O\+M\+\_\+\+S\+E\+R\+I\+A\+L\+D\+E\+V}~\char`\"{}/dev/tty\+A\+M\+A0\char`\"{}\label{BaCom_8h_a560d10625971945890a829c2cfd32769}

\begin{DoxyCompactList}\small\item\em Serial device path. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\hypertarget{BaCom_8h_a9ac1d442bdbe734ad6aac5974f37e4ad}{}typedef int32\+\_\+t \hyperlink{BaCom_8h_a9ac1d442bdbe734ad6aac5974f37e4ad}{T\+Ba\+Com\+Hdl}\label{BaCom_8h_a9ac1d442bdbe734ad6aac5974f37e4ad}

\begin{DoxyCompactList}\small\item\em Ba\+Com Handle. \end{DoxyCompactList}\item 
\hypertarget{BaCom_8h_abd28efcbb112d949c065c93b9496f281}{}typedef void $\ast$ \hyperlink{BaCom_8h_abd28efcbb112d949c065c93b9496f281}{T\+Ba\+Com\+Ser\+Hdl}\label{BaCom_8h_abd28efcbb112d949c065c93b9496f281}

\begin{DoxyCompactList}\small\item\em Serial interface handle. \end{DoxyCompactList}\item 
\hypertarget{BaCom_8h_add8b012b9350e6336e8bc815a3b732d2}{}typedef void $\ast$($\ast$ \hyperlink{BaCom_8h_add8b012b9350e6336e8bc815a3b732d2}{T\+Ba\+Com1w\+Read\+Fun}) (const char $\ast$str, size\+\_\+t n)\label{BaCom_8h_add8b012b9350e6336e8bc815a3b732d2}

\begin{DoxyCompactList}\small\item\em Callback function to parse the string returned by the driver from /sys/bus/w1/devices/$<$\+Serial\+No$>$/w1\+\_\+slave. \end{DoxyCompactList}\item 
\hypertarget{BaCom_8h_a0c2d065555852132f1e554bba19040db}{}typedef enum \hyperlink{BaCom_8h_a51ae55d0c5491b76a6070eb31390691d}{E\+Ba\+Com\+Baud} \hyperlink{BaCom_8h_a0c2d065555852132f1e554bba19040db}{E\+Ba\+Com\+Baud}\label{BaCom_8h_a0c2d065555852132f1e554bba19040db}

\begin{DoxyCompactList}\small\item\em Baud enumeration. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
\hypertarget{BaCom_8h_a51ae55d0c5491b76a6070eb31390691d}{}enum \hyperlink{BaCom_8h_a51ae55d0c5491b76a6070eb31390691d}{E\+Ba\+Com\+Baud} \label{BaCom_8h_a51ae55d0c5491b76a6070eb31390691d}
\begin{DoxyCompactList}\small\item\em Baud enumeration. \end{DoxyCompactList}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{Indent}{\bf I2\+C bus Management}\par
\begin{DoxyCompactItemize}
\item 
\hyperlink{BaBool_8h_a84d5a0de4729ca4c89f2479c605dbf3d}{T\+Ba\+Bool\+R\+C} \hyperlink{BaCom_8h_a3464a36d770f73acc550282077141c80}{Ba\+Com\+I2\+C\+Init} ()
\begin{DoxyCompactList}\small\item\em Initializes the resources, reserves G\+P\+I\+Os S\+D\+A (2), S\+C\+L (3). \end{DoxyCompactList}\item 
\hyperlink{BaBool_8h_a84d5a0de4729ca4c89f2479c605dbf3d}{T\+Ba\+Bool\+R\+C} \hyperlink{BaCom_8h_ae5478e26b371c55c89b9d91f6ed3d1b4}{Ba\+Com\+I2\+C\+Exit} ()
\begin{DoxyCompactList}\small\item\em Releases the resources. \end{DoxyCompactList}\item 
\hyperlink{BaBool_8h_a84d5a0de4729ca4c89f2479c605dbf3d}{T\+Ba\+Bool\+R\+C} \hyperlink{BaCom_8h_a9a75fa558afeb9f0bcde9acbb03bca1c}{Ba\+Com\+I2\+C\+Select\+Dev} (uint16\+\_\+t dev\+Addr)
\begin{DoxyCompactList}\small\item\em Select a device to work with and initializes the bus if not initialized. \end{DoxyCompactList}\item 
uint64\+\_\+t \hyperlink{BaCom_8h_a376b66c93597284146ed488dc63495d7}{Ba\+Com\+I2\+C\+Funcs} ()
\begin{DoxyCompactList}\small\item\em Gets the functionality of the device as described in linux/i2c.\+h. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}{\bf I2\+C bus Read}\par
\begin{DoxyCompactItemize}
\item 
uint8\+\_\+t \hyperlink{BaCom_8h_ad9092f258ac9af11ca5b6f4f2603978a}{Ba\+Com\+I2\+C\+Read8} (\hyperlink{BaBool_8h_a5fe1eb8d6ba045ac2251a8f369c2e7b6}{T\+Ba\+Bool} $\ast$p\+Error)
\begin{DoxyCompactList}\small\item\em Simple 8-\/bit read. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{BaCom_8h_ad68dc1207377371300d4a97fd5f86a8a}{Ba\+Com\+I2\+C\+Read\+Reg8} (uint32\+\_\+t reg, \hyperlink{BaBool_8h_a5fe1eb8d6ba045ac2251a8f369c2e7b6}{T\+Ba\+Bool} $\ast$p\+Error)
\begin{DoxyCompactList}\small\item\em Read 8-\/bit register. \end{DoxyCompactList}\item 
uint16\+\_\+t \hyperlink{BaCom_8h_a5f55665f43f303f6320e1fd2e3cea653}{Ba\+Com\+I2\+C\+Read\+Reg16} (uint32\+\_\+t reg, \hyperlink{BaBool_8h_a5fe1eb8d6ba045ac2251a8f369c2e7b6}{T\+Ba\+Bool} $\ast$p\+Error)
\begin{DoxyCompactList}\small\item\em Read 16-\/bit register. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}{\bf I2\+C bus write}\par
\begin{DoxyCompactItemize}
\item 
\hyperlink{BaBool_8h_a84d5a0de4729ca4c89f2479c605dbf3d}{T\+Ba\+Bool\+R\+C} \hyperlink{BaCom_8h_a7f608fffc8055e230d59c9a77baea034}{Ba\+Com\+I2\+C\+Write8} (uint8\+\_\+t val)
\begin{DoxyCompactList}\small\item\em Simple 8-\/bit Write. \end{DoxyCompactList}\item 
\hyperlink{BaBool_8h_a84d5a0de4729ca4c89f2479c605dbf3d}{T\+Ba\+Bool\+R\+C} \hyperlink{BaCom_8h_a17c24c471792cb9e94bd266a86b41bf8}{Ba\+Com\+I2\+C\+Write\+Reg8} (uint32\+\_\+t reg, uint8\+\_\+t val)
\begin{DoxyCompactList}\small\item\em Write 8-\/bit register. \end{DoxyCompactList}\item 
\hyperlink{BaBool_8h_a84d5a0de4729ca4c89f2479c605dbf3d}{T\+Ba\+Bool\+R\+C} \hyperlink{BaCom_8h_a803f2ca92c372c1826625120f1b8f0aa}{Ba\+Com\+I2\+C\+Write\+Reg16} (uint32\+\_\+t reg, uint16\+\_\+t val)
\begin{DoxyCompactList}\small\item\em Write 16-\/bit register. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}{\bf One Wire bus}\par
\begin{DoxyCompactItemize}
\item 
\hyperlink{BaBool_8h_a84d5a0de4729ca4c89f2479c605dbf3d}{T\+Ba\+Bool\+R\+C} \hyperlink{BaCom_8h_a36457e41594d45b408d50a9dd23866e2}{Ba\+Com1\+W\+Init} ()
\begin{DoxyCompactList}\small\item\em Initializes the resources, reserves G\+P\+I\+O 4 and calls \hyperlink{BaCom_8h_a17f4dcfdde9d9a2a0b2c88151b744706}{Ba\+Com1\+W\+Get\+Devices()} \end{DoxyCompactList}\item 
\hyperlink{BaBool_8h_a84d5a0de4729ca4c89f2479c605dbf3d}{T\+Ba\+Bool\+R\+C} \hyperlink{BaCom_8h_a1db343e7949ded79fd54ed5c49dfbdfa}{Ba\+Com1\+W\+Exit} ()
\begin{DoxyCompactList}\small\item\em Releases the resources. \end{DoxyCompactList}\item 
uint16\+\_\+t \hyperlink{BaCom_8h_a17f4dcfdde9d9a2a0b2c88151b744706}{Ba\+Com1\+W\+Get\+Devices} ()
\begin{DoxyCompactList}\small\item\em Scans for devices and saves them internally. \end{DoxyCompactList}\item 
const char $\ast$ \hyperlink{BaCom_8h_a624dc3c42afb27ed7ad9514ab4cc8485}{Ba\+Com1\+W\+Rd\+Async} (const char $\ast$ser\+No, \hyperlink{BaCore_8h_a26e10ffbac03a898c7f8921f65ee4544}{T\+Ba\+Core\+Mon\+T\+Stamp\+Us} $\ast$p\+Ts)
\begin{DoxyCompactList}\small\item\em Read the value of the 1\+W sensor asynchronously. \end{DoxyCompactList}\item 
float \hyperlink{BaCom_8h_aead9e89e6d443d5cdfdf0f5f0b7489ec}{Ba\+Com1\+W\+Get\+Temp} (const char $\ast$ser\+No, \hyperlink{BaBool_8h_a5fe1eb8d6ba045ac2251a8f369c2e7b6}{T\+Ba\+Bool} $\ast$p\+Error)
\begin{DoxyCompactList}\small\item\em Gets the temperature from the sensor with family \char`\"{}28\char`\"{}. \end{DoxyCompactList}\item 
void $\ast$ \hyperlink{BaCom_8h_abe2197503642d4517de5445e652e4ead}{Ba\+Com1\+W\+Get\+Value} (const char $\ast$ser\+No, \hyperlink{BaCom_8h_add8b012b9350e6336e8bc815a3b732d2}{T\+Ba\+Com1w\+Read\+Fun} cb, \hyperlink{BaBool_8h_a5fe1eb8d6ba045ac2251a8f369c2e7b6}{T\+Ba\+Bool} $\ast$p\+Error)
\begin{DoxyCompactList}\small\item\em Gets the data from a generic one wire device by calling user callback. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}{\bf Serial Interface}\par
\begin{DoxyCompactItemize}
\item 
\hyperlink{BaCom_8h_abd28efcbb112d949c065c93b9496f281}{T\+Ba\+Com\+Ser\+Hdl} \hyperlink{BaCom_8h_afd029cee32185ec1613ba18b144439a2}{Ba\+Com\+Ser\+Init} (const char $\ast$device, \hyperlink{BaCom_8h_a51ae55d0c5491b76a6070eb31390691d}{E\+Ba\+Com\+Baud} baud)
\begin{DoxyCompactList}\small\item\em Initializes the resources and reserves G\+P\+I\+Os 14 and 15 for. \end{DoxyCompactList}\item 
\hyperlink{BaBool_8h_a84d5a0de4729ca4c89f2479c605dbf3d}{T\+Ba\+Bool\+R\+C} \hyperlink{BaCom_8h_a607a0ab43460b1e999519a8b6697e7f2}{Ba\+Com\+Ser\+Exit} (\hyperlink{BaCom_8h_abd28efcbb112d949c065c93b9496f281}{T\+Ba\+Com\+Ser\+Hdl} hdl)
\begin{DoxyCompactList}\small\item\em Frees resources. \end{DoxyCompactList}\item 
\hyperlink{BaBool_8h_a84d5a0de4729ca4c89f2479c605dbf3d}{T\+Ba\+Bool\+R\+C} \hyperlink{BaCom_8h_a6e2bd92d46d4f9326dbccc3f25408fcd}{Ba\+Com\+Ser\+Put\+C} (\hyperlink{BaCom_8h_abd28efcbb112d949c065c93b9496f281}{T\+Ba\+Com\+Ser\+Hdl} hdl, uint8\+\_\+t c)
\begin{DoxyCompactList}\small\item\em Initializes the resources and reserves G\+P\+I\+Os 14 and 15 for. \end{DoxyCompactList}\item 
int \hyperlink{BaCom_8h_a5763d9526e6dc78f324391e4a17b4d36}{Ba\+Com\+Ser\+Pend} (\hyperlink{BaCom_8h_abd28efcbb112d949c065c93b9496f281}{T\+Ba\+Com\+Ser\+Hdl} hdl)
\begin{DoxyCompactList}\small\item\em Initializes the resources and reserves G\+P\+I\+Os 14 and 15 for. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{BaCom_8h_aced95b335f1d9c05e7b3c84427cd9949}{Ba\+Com\+Ser\+Get\+C} (\hyperlink{BaCom_8h_abd28efcbb112d949c065c93b9496f281}{T\+Ba\+Com\+Ser\+Hdl} hdl)
\begin{DoxyCompactList}\small\item\em Initializes the resources and reserves G\+P\+I\+Os 14 and 15 for. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}


\subsection{Detailed Description}
Communications A\+P\+I. 


\begin{DoxyItemize}
\item I2\+C
\item S\+P\+I
\item Serial
\item One Wire Bus 
\end{DoxyItemize}

\subsection{Function Documentation}
\hypertarget{BaCom_8h_a3464a36d770f73acc550282077141c80}{}\index{Ba\+Com.\+h@{Ba\+Com.\+h}!Ba\+Com\+I2\+C\+Init@{Ba\+Com\+I2\+C\+Init}}
\index{Ba\+Com\+I2\+C\+Init@{Ba\+Com\+I2\+C\+Init}!Ba\+Com.\+h@{Ba\+Com.\+h}}
\subsubsection[{Ba\+Com\+I2\+C\+Init()}]{\setlength{\rightskip}{0pt plus 5cm}{\bf T\+Ba\+Bool\+R\+C} Ba\+Com\+I2\+C\+Init (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{BaCom_8h_a3464a36d770f73acc550282077141c80}


Initializes the resources, reserves G\+P\+I\+Os S\+D\+A (2), S\+C\+L (3). 

todo\+: I\+D\+\_\+\+S\+C, I\+D\+\_\+\+S\+D \begin{DoxyReturn}{Returns}
Error of success 
\end{DoxyReturn}
\hypertarget{BaCom_8h_ae5478e26b371c55c89b9d91f6ed3d1b4}{}\index{Ba\+Com.\+h@{Ba\+Com.\+h}!Ba\+Com\+I2\+C\+Exit@{Ba\+Com\+I2\+C\+Exit}}
\index{Ba\+Com\+I2\+C\+Exit@{Ba\+Com\+I2\+C\+Exit}!Ba\+Com.\+h@{Ba\+Com.\+h}}
\subsubsection[{Ba\+Com\+I2\+C\+Exit()}]{\setlength{\rightskip}{0pt plus 5cm}{\bf T\+Ba\+Bool\+R\+C} Ba\+Com\+I2\+C\+Exit (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{BaCom_8h_ae5478e26b371c55c89b9d91f6ed3d1b4}


Releases the resources. 

\begin{DoxyReturn}{Returns}
Error or success 
\end{DoxyReturn}
\hypertarget{BaCom_8h_a9a75fa558afeb9f0bcde9acbb03bca1c}{}\index{Ba\+Com.\+h@{Ba\+Com.\+h}!Ba\+Com\+I2\+C\+Select\+Dev@{Ba\+Com\+I2\+C\+Select\+Dev}}
\index{Ba\+Com\+I2\+C\+Select\+Dev@{Ba\+Com\+I2\+C\+Select\+Dev}!Ba\+Com.\+h@{Ba\+Com.\+h}}
\subsubsection[{Ba\+Com\+I2\+C\+Select\+Dev(uint16\+\_\+t dev\+Addr)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf T\+Ba\+Bool\+R\+C} Ba\+Com\+I2\+C\+Select\+Dev (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{dev\+Addr}
\end{DoxyParamCaption}
)}\label{BaCom_8h_a9a75fa558afeb9f0bcde9acbb03bca1c}


Select a device to work with and initializes the bus if not initialized. 

\begin{DoxyReturn}{Returns}
Error of success 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em dev\+Addr} & Device address. see todo \\
\hline
\end{DoxyParams}
\hypertarget{BaCom_8h_a376b66c93597284146ed488dc63495d7}{}\index{Ba\+Com.\+h@{Ba\+Com.\+h}!Ba\+Com\+I2\+C\+Funcs@{Ba\+Com\+I2\+C\+Funcs}}
\index{Ba\+Com\+I2\+C\+Funcs@{Ba\+Com\+I2\+C\+Funcs}!Ba\+Com.\+h@{Ba\+Com.\+h}}
\subsubsection[{Ba\+Com\+I2\+C\+Funcs()}]{\setlength{\rightskip}{0pt plus 5cm}uint64\+\_\+t Ba\+Com\+I2\+C\+Funcs (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{BaCom_8h_a376b66c93597284146ed488dc63495d7}


Gets the functionality of the device as described in linux/i2c.\+h. 

\begin{DoxyReturn}{Returns}
Mask of functions 
\end{DoxyReturn}
\hypertarget{BaCom_8h_ad9092f258ac9af11ca5b6f4f2603978a}{}\index{Ba\+Com.\+h@{Ba\+Com.\+h}!Ba\+Com\+I2\+C\+Read8@{Ba\+Com\+I2\+C\+Read8}}
\index{Ba\+Com\+I2\+C\+Read8@{Ba\+Com\+I2\+C\+Read8}!Ba\+Com.\+h@{Ba\+Com.\+h}}
\subsubsection[{Ba\+Com\+I2\+C\+Read8(\+T\+Ba\+Bool $\ast$p\+Error)}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t Ba\+Com\+I2\+C\+Read8 (
\begin{DoxyParamCaption}
\item[{{\bf T\+Ba\+Bool} $\ast$}]{p\+Error}
\end{DoxyParamCaption}
)}\label{BaCom_8h_ad9092f258ac9af11ca5b6f4f2603978a}


Simple 8-\/bit read. 

\begin{DoxyReturn}{Returns}
Data 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em p\+Error} & Optional error flag \\
\hline
\end{DoxyParams}
\hypertarget{BaCom_8h_ad68dc1207377371300d4a97fd5f86a8a}{}\index{Ba\+Com.\+h@{Ba\+Com.\+h}!Ba\+Com\+I2\+C\+Read\+Reg8@{Ba\+Com\+I2\+C\+Read\+Reg8}}
\index{Ba\+Com\+I2\+C\+Read\+Reg8@{Ba\+Com\+I2\+C\+Read\+Reg8}!Ba\+Com.\+h@{Ba\+Com.\+h}}
\subsubsection[{Ba\+Com\+I2\+C\+Read\+Reg8(uint32\+\_\+t reg, T\+Ba\+Bool $\ast$p\+Error)}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t Ba\+Com\+I2\+C\+Read\+Reg8 (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{reg, }
\item[{{\bf T\+Ba\+Bool} $\ast$}]{p\+Error}
\end{DoxyParamCaption}
)}\label{BaCom_8h_ad68dc1207377371300d4a97fd5f86a8a}


Read 8-\/bit register. 

\begin{DoxyReturn}{Returns}
Data 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em reg} & Register number \\
\hline
\mbox{\tt out}  & {\em p\+Error} & Optional error flag \\
\hline
\end{DoxyParams}
\hypertarget{BaCom_8h_a5f55665f43f303f6320e1fd2e3cea653}{}\index{Ba\+Com.\+h@{Ba\+Com.\+h}!Ba\+Com\+I2\+C\+Read\+Reg16@{Ba\+Com\+I2\+C\+Read\+Reg16}}
\index{Ba\+Com\+I2\+C\+Read\+Reg16@{Ba\+Com\+I2\+C\+Read\+Reg16}!Ba\+Com.\+h@{Ba\+Com.\+h}}
\subsubsection[{Ba\+Com\+I2\+C\+Read\+Reg16(uint32\+\_\+t reg, T\+Ba\+Bool $\ast$p\+Error)}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t Ba\+Com\+I2\+C\+Read\+Reg16 (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{reg, }
\item[{{\bf T\+Ba\+Bool} $\ast$}]{p\+Error}
\end{DoxyParamCaption}
)}\label{BaCom_8h_a5f55665f43f303f6320e1fd2e3cea653}


Read 16-\/bit register. 

\begin{DoxyReturn}{Returns}
Data 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em reg} & Register number \\
\hline
\mbox{\tt out}  & {\em p\+Error} & Optional error flag \\
\hline
\end{DoxyParams}
\hypertarget{BaCom_8h_a7f608fffc8055e230d59c9a77baea034}{}\index{Ba\+Com.\+h@{Ba\+Com.\+h}!Ba\+Com\+I2\+C\+Write8@{Ba\+Com\+I2\+C\+Write8}}
\index{Ba\+Com\+I2\+C\+Write8@{Ba\+Com\+I2\+C\+Write8}!Ba\+Com.\+h@{Ba\+Com.\+h}}
\subsubsection[{Ba\+Com\+I2\+C\+Write8(uint8\+\_\+t val)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf T\+Ba\+Bool\+R\+C} Ba\+Com\+I2\+C\+Write8 (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{val}
\end{DoxyParamCaption}
)}\label{BaCom_8h_a7f608fffc8055e230d59c9a77baea034}


Simple 8-\/bit Write. 

\begin{DoxyReturn}{Returns}
Error or success 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em val} & value to write \\
\hline
\end{DoxyParams}
\hypertarget{BaCom_8h_a17c24c471792cb9e94bd266a86b41bf8}{}\index{Ba\+Com.\+h@{Ba\+Com.\+h}!Ba\+Com\+I2\+C\+Write\+Reg8@{Ba\+Com\+I2\+C\+Write\+Reg8}}
\index{Ba\+Com\+I2\+C\+Write\+Reg8@{Ba\+Com\+I2\+C\+Write\+Reg8}!Ba\+Com.\+h@{Ba\+Com.\+h}}
\subsubsection[{Ba\+Com\+I2\+C\+Write\+Reg8(uint32\+\_\+t reg, uint8\+\_\+t val)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf T\+Ba\+Bool\+R\+C} Ba\+Com\+I2\+C\+Write\+Reg8 (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{reg, }
\item[{uint8\+\_\+t}]{val}
\end{DoxyParamCaption}
)}\label{BaCom_8h_a17c24c471792cb9e94bd266a86b41bf8}


Write 8-\/bit register. 

\begin{DoxyReturn}{Returns}
Error or success 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em reg} & Register number \\
\hline
\mbox{\tt in}  & {\em val} & value to write \\
\hline
\end{DoxyParams}
\hypertarget{BaCom_8h_a803f2ca92c372c1826625120f1b8f0aa}{}\index{Ba\+Com.\+h@{Ba\+Com.\+h}!Ba\+Com\+I2\+C\+Write\+Reg16@{Ba\+Com\+I2\+C\+Write\+Reg16}}
\index{Ba\+Com\+I2\+C\+Write\+Reg16@{Ba\+Com\+I2\+C\+Write\+Reg16}!Ba\+Com.\+h@{Ba\+Com.\+h}}
\subsubsection[{Ba\+Com\+I2\+C\+Write\+Reg16(uint32\+\_\+t reg, uint16\+\_\+t val)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf T\+Ba\+Bool\+R\+C} Ba\+Com\+I2\+C\+Write\+Reg16 (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{reg, }
\item[{uint16\+\_\+t}]{val}
\end{DoxyParamCaption}
)}\label{BaCom_8h_a803f2ca92c372c1826625120f1b8f0aa}


Write 16-\/bit register. 

\begin{DoxyReturn}{Returns}
Error or success 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em reg} & Register number \\
\hline
\mbox{\tt in}  & {\em val} & value to write \\
\hline
\end{DoxyParams}
\hypertarget{BaCom_8h_a36457e41594d45b408d50a9dd23866e2}{}\index{Ba\+Com.\+h@{Ba\+Com.\+h}!Ba\+Com1\+W\+Init@{Ba\+Com1\+W\+Init}}
\index{Ba\+Com1\+W\+Init@{Ba\+Com1\+W\+Init}!Ba\+Com.\+h@{Ba\+Com.\+h}}
\subsubsection[{Ba\+Com1\+W\+Init()}]{\setlength{\rightskip}{0pt plus 5cm}{\bf T\+Ba\+Bool\+R\+C} Ba\+Com1\+W\+Init (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{BaCom_8h_a36457e41594d45b408d50a9dd23866e2}


Initializes the resources, reserves G\+P\+I\+O 4 and calls \hyperlink{BaCom_8h_a17f4dcfdde9d9a2a0b2c88151b744706}{Ba\+Com1\+W\+Get\+Devices()} 

\begin{DoxyReturn}{Returns}
Error of success 
\end{DoxyReturn}
\hypertarget{BaCom_8h_a1db343e7949ded79fd54ed5c49dfbdfa}{}\index{Ba\+Com.\+h@{Ba\+Com.\+h}!Ba\+Com1\+W\+Exit@{Ba\+Com1\+W\+Exit}}
\index{Ba\+Com1\+W\+Exit@{Ba\+Com1\+W\+Exit}!Ba\+Com.\+h@{Ba\+Com.\+h}}
\subsubsection[{Ba\+Com1\+W\+Exit()}]{\setlength{\rightskip}{0pt plus 5cm}{\bf T\+Ba\+Bool\+R\+C} Ba\+Com1\+W\+Exit (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{BaCom_8h_a1db343e7949ded79fd54ed5c49dfbdfa}


Releases the resources. 

\begin{DoxyReturn}{Returns}
Error or success 
\end{DoxyReturn}
\hypertarget{BaCom_8h_a17f4dcfdde9d9a2a0b2c88151b744706}{}\index{Ba\+Com.\+h@{Ba\+Com.\+h}!Ba\+Com1\+W\+Get\+Devices@{Ba\+Com1\+W\+Get\+Devices}}
\index{Ba\+Com1\+W\+Get\+Devices@{Ba\+Com1\+W\+Get\+Devices}!Ba\+Com.\+h@{Ba\+Com.\+h}}
\subsubsection[{Ba\+Com1\+W\+Get\+Devices()}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t Ba\+Com1\+W\+Get\+Devices (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{BaCom_8h_a17f4dcfdde9d9a2a0b2c88151b744706}


Scans for devices and saves them internally. 

This is automatically called by \hyperlink{BaCom_8h_a36457e41594d45b408d50a9dd23866e2}{Ba\+Com1\+W\+Init()} \begin{DoxyReturn}{Returns}
The number of devices found 
\end{DoxyReturn}
\hypertarget{BaCom_8h_a624dc3c42afb27ed7ad9514ab4cc8485}{}\index{Ba\+Com.\+h@{Ba\+Com.\+h}!Ba\+Com1\+W\+Rd\+Async@{Ba\+Com1\+W\+Rd\+Async}}
\index{Ba\+Com1\+W\+Rd\+Async@{Ba\+Com1\+W\+Rd\+Async}!Ba\+Com.\+h@{Ba\+Com.\+h}}
\subsubsection[{Ba\+Com1\+W\+Rd\+Async(const char $\ast$ser\+No, T\+Ba\+Core\+Mon\+T\+Stamp\+Us $\ast$p\+Ts)}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ Ba\+Com1\+W\+Rd\+Async (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{ser\+No, }
\item[{{\bf T\+Ba\+Core\+Mon\+T\+Stamp\+Us} $\ast$}]{p\+Ts}
\end{DoxyParamCaption}
)}\label{BaCom_8h_a624dc3c42afb27ed7ad9514ab4cc8485}


Read the value of the 1\+W sensor asynchronously. 

This works with an internal worker thread. The {\ttfamily ser\+No} must have the form\+:~\newline
X\+X-\/\+X\+X\+X\+X\+X\+X\+X\+X\+X\+X\+X\+X \mbox{[}dev\+Fam\mbox{]}-\/\mbox{[}dev\+I\+D\mbox{]} \begin{DoxyReturn}{Returns}
On success, the contents of the sensor file, otherwise 0 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ser\+No} & Optional serial number of the sensor eg\+: \char`\"{}28-\/0215c2c4bcff\char`\"{}. If null, the first sensor with family I\+D 28 is used \\
\hline
\mbox{\tt out}  & {\em p\+Ts} & optional timestamp of the reading \\
\hline
\end{DoxyParams}
\hypertarget{BaCom_8h_aead9e89e6d443d5cdfdf0f5f0b7489ec}{}\index{Ba\+Com.\+h@{Ba\+Com.\+h}!Ba\+Com1\+W\+Get\+Temp@{Ba\+Com1\+W\+Get\+Temp}}
\index{Ba\+Com1\+W\+Get\+Temp@{Ba\+Com1\+W\+Get\+Temp}!Ba\+Com.\+h@{Ba\+Com.\+h}}
\subsubsection[{Ba\+Com1\+W\+Get\+Temp(const char $\ast$ser\+No, T\+Ba\+Bool $\ast$p\+Error)}]{\setlength{\rightskip}{0pt plus 5cm}float Ba\+Com1\+W\+Get\+Temp (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{ser\+No, }
\item[{{\bf T\+Ba\+Bool} $\ast$}]{p\+Error}
\end{DoxyParamCaption}
)}\label{BaCom_8h_aead9e89e6d443d5cdfdf0f5f0b7489ec}


Gets the temperature from the sensor with family \char`\"{}28\char`\"{}. 

This is a slow synchronous read. It takes about 1s. For soft real-\/time applications, the asynchronous call is suggested. The {\ttfamily ser\+No} must have the form\+:~\newline
X\+X-\/\+X\+X\+X\+X\+X\+X\+X\+X\+X\+X\+X\+X \mbox{[}dev\+Fam\mbox{]}-\/\mbox{[}dev\+I\+D\mbox{]} \begin{DoxyReturn}{Returns}
Temperature in ï¿½\+C on success, otherwise -\/300 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ser\+No} & Optional serial number of the sensor eg\+: \char`\"{}28-\/0215c2c4bcff\char`\"{}. If null, the first sensor with family I\+D 28 is used \\
\hline
\mbox{\tt out}  & {\em p\+Error} & Optional error flag. Only modified if error \\
\hline
\end{DoxyParams}
\hypertarget{BaCom_8h_abe2197503642d4517de5445e652e4ead}{}\index{Ba\+Com.\+h@{Ba\+Com.\+h}!Ba\+Com1\+W\+Get\+Value@{Ba\+Com1\+W\+Get\+Value}}
\index{Ba\+Com1\+W\+Get\+Value@{Ba\+Com1\+W\+Get\+Value}!Ba\+Com.\+h@{Ba\+Com.\+h}}
\subsubsection[{Ba\+Com1\+W\+Get\+Value(const char $\ast$ser\+No, T\+Ba\+Com1w\+Read\+Fun cb, T\+Ba\+Bool $\ast$p\+Error)}]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ Ba\+Com1\+W\+Get\+Value (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{ser\+No, }
\item[{{\bf T\+Ba\+Com1w\+Read\+Fun}}]{cb, }
\item[{{\bf T\+Ba\+Bool} $\ast$}]{p\+Error}
\end{DoxyParamCaption}
)}\label{BaCom_8h_abe2197503642d4517de5445e652e4ead}


Gets the data from a generic one wire device by calling user callback. 

todo\+: return the first sensor if ser\+N\+O == 1. The {\ttfamily ser\+No} must have the form\+:~\newline
X\+X-\/\+X\+X\+X\+X\+X\+X\+X\+X\+X\+X\+X\+X \mbox{[}dev\+Fam\mbox{]}-\/\mbox{[}dev\+I\+D\mbox{]} \begin{DoxyReturn}{Returns}
Null if error, or the data returned by {\ttfamily cb} 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ser\+No} & Optional serial number of the sensor eg\+: \char`\"{}28-\/0215c2c4bcff\char`\"{}. \\
\hline
\mbox{\tt in}  & {\em cb} & Callback function that parses the string returned by the driver \\
\hline
\mbox{\tt out}  & {\em p\+Error} & Optional error flag. Only modified if error \\
\hline
\end{DoxyParams}
\hypertarget{BaCom_8h_afd029cee32185ec1613ba18b144439a2}{}\index{Ba\+Com.\+h@{Ba\+Com.\+h}!Ba\+Com\+Ser\+Init@{Ba\+Com\+Ser\+Init}}
\index{Ba\+Com\+Ser\+Init@{Ba\+Com\+Ser\+Init}!Ba\+Com.\+h@{Ba\+Com.\+h}}
\subsubsection[{Ba\+Com\+Ser\+Init(const char $\ast$device, E\+Ba\+Com\+Baud baud)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf T\+Ba\+Com\+Ser\+Hdl} Ba\+Com\+Ser\+Init (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{device, }
\item[{{\bf E\+Ba\+Com\+Baud}}]{baud}
\end{DoxyParamCaption}
)}\label{BaCom_8h_afd029cee32185ec1613ba18b144439a2}


Initializes the resources and reserves G\+P\+I\+Os 14 and 15 for. 

\begin{DoxyReturn}{Returns}
Handle on success, otherwise error 
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em device} & Device path, e.\+g. B\+A\+C\+O\+M\+\_\+\+S\+E\+R\+I\+A\+L\+D\+E\+V \\
\hline
{\em baud} & Baud rate \\
\hline
\end{DoxyParams}
\hypertarget{BaCom_8h_a607a0ab43460b1e999519a8b6697e7f2}{}\index{Ba\+Com.\+h@{Ba\+Com.\+h}!Ba\+Com\+Ser\+Exit@{Ba\+Com\+Ser\+Exit}}
\index{Ba\+Com\+Ser\+Exit@{Ba\+Com\+Ser\+Exit}!Ba\+Com.\+h@{Ba\+Com.\+h}}
\subsubsection[{Ba\+Com\+Ser\+Exit(\+T\+Ba\+Com\+Ser\+Hdl hdl)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf T\+Ba\+Bool\+R\+C} Ba\+Com\+Ser\+Exit (
\begin{DoxyParamCaption}
\item[{{\bf T\+Ba\+Com\+Ser\+Hdl}}]{hdl}
\end{DoxyParamCaption}
)}\label{BaCom_8h_a607a0ab43460b1e999519a8b6697e7f2}


Frees resources. 

\begin{DoxyReturn}{Returns}
Error or success 
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em hdl} & Serial communication handle \\
\hline
\end{DoxyParams}
\hypertarget{BaCom_8h_a6e2bd92d46d4f9326dbccc3f25408fcd}{}\index{Ba\+Com.\+h@{Ba\+Com.\+h}!Ba\+Com\+Ser\+Put\+C@{Ba\+Com\+Ser\+Put\+C}}
\index{Ba\+Com\+Ser\+Put\+C@{Ba\+Com\+Ser\+Put\+C}!Ba\+Com.\+h@{Ba\+Com.\+h}}
\subsubsection[{Ba\+Com\+Ser\+Put\+C(\+T\+Ba\+Com\+Ser\+Hdl hdl, uint8\+\_\+t c)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf T\+Ba\+Bool\+R\+C} Ba\+Com\+Ser\+Put\+C (
\begin{DoxyParamCaption}
\item[{{\bf T\+Ba\+Com\+Ser\+Hdl}}]{hdl, }
\item[{uint8\+\_\+t}]{c}
\end{DoxyParamCaption}
)}\label{BaCom_8h_a6e2bd92d46d4f9326dbccc3f25408fcd}


Initializes the resources and reserves G\+P\+I\+Os 14 and 15 for. 

\begin{DoxyReturn}{Returns}
Handle on success, otherwise error 
\end{DoxyReturn}
\hypertarget{BaCom_8h_a5763d9526e6dc78f324391e4a17b4d36}{}\index{Ba\+Com.\+h@{Ba\+Com.\+h}!Ba\+Com\+Ser\+Pend@{Ba\+Com\+Ser\+Pend}}
\index{Ba\+Com\+Ser\+Pend@{Ba\+Com\+Ser\+Pend}!Ba\+Com.\+h@{Ba\+Com.\+h}}
\subsubsection[{Ba\+Com\+Ser\+Pend(\+T\+Ba\+Com\+Ser\+Hdl hdl)}]{\setlength{\rightskip}{0pt plus 5cm}int Ba\+Com\+Ser\+Pend (
\begin{DoxyParamCaption}
\item[{{\bf T\+Ba\+Com\+Ser\+Hdl}}]{hdl}
\end{DoxyParamCaption}
)}\label{BaCom_8h_a5763d9526e6dc78f324391e4a17b4d36}


Initializes the resources and reserves G\+P\+I\+Os 14 and 15 for. 

\begin{DoxyReturn}{Returns}
Handle on success, otherwise error 
\end{DoxyReturn}
\hypertarget{BaCom_8h_aced95b335f1d9c05e7b3c84427cd9949}{}\index{Ba\+Com.\+h@{Ba\+Com.\+h}!Ba\+Com\+Ser\+Get\+C@{Ba\+Com\+Ser\+Get\+C}}
\index{Ba\+Com\+Ser\+Get\+C@{Ba\+Com\+Ser\+Get\+C}!Ba\+Com.\+h@{Ba\+Com.\+h}}
\subsubsection[{Ba\+Com\+Ser\+Get\+C(\+T\+Ba\+Com\+Ser\+Hdl hdl)}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t Ba\+Com\+Ser\+Get\+C (
\begin{DoxyParamCaption}
\item[{{\bf T\+Ba\+Com\+Ser\+Hdl}}]{hdl}
\end{DoxyParamCaption}
)}\label{BaCom_8h_aced95b335f1d9c05e7b3c84427cd9949}


Initializes the resources and reserves G\+P\+I\+Os 14 and 15 for. 

\begin{DoxyReturn}{Returns}
Handle on success, otherwise error 
\end{DoxyReturn}
